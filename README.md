ğŸ“¨ Gmane Mail Analyzer

A full end-to-end Python project that retrieves public GMane email archives, parses and indexes metadata, extracts keywords from subject lines, and visualizes the results in an interactive D3.js word cloud.

This project demonstrates:

ğŸ“¥ Fetching email data from a public GMane archive
ğŸ§¹ Parsing, cleaning, and normalizing email metadata
ğŸ—„ï¸ Building structured SQLite databases
ğŸ§  Keyword extraction & frequency analysis
ğŸ§ª Auto-generating gword.js for visualization
ğŸŒˆ A fully interactive HTML / D3.js word cloud

A project showcasing Python data pipelines + web visualization skills.

ğŸ“ Project Structure
```txt
â”œâ”€â”€ src/                                     # Core Python scripts
â”‚   â”œâ”€â”€ fetch_emails.py                      # Fetch raw emails â†’ content.sqlite
â”‚   â”œâ”€â”€ prepare_index.py                     # Clean & normalize â†’ index.sqlite
â”‚   â”œâ”€â”€ generate_wordcloud_js.py             # Build final gword.js dataset
â”‚   â””â”€â”€ gbasic.py                            # Shared helpers/utilities
â”‚
â”œâ”€â”€ visualization/
â”‚   â”œâ”€â”€ wordcloud.html                       # Interactive D3 visualization
â”‚   â””â”€â”€ gword.js                             # Keyword dataset (auto-generated)
â”‚
â”œâ”€â”€ data/                                    # SQLite databases
â”‚   â”œâ”€â”€ content.sqlite
â”‚   â””â”€â”€ index.sqlite
â”‚
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

```
ğŸš€ How to Run the Project

Follow these steps to reproduce the full pipeline from email retrieval â†’ database indexing â†’ visualization.

1ï¸âƒ£ Create and activate a virtual environment
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install python-dateutil

```






2ï¸âƒ£ Fetch Emails (Raw Data â†’ content.sqlite)

Downloads email headers + body text from the GMane public archive and stores them in data/content.sqlite.

Run:
```bash
python src/fetch_emails.py
```

You will be prompted:
```bash
How many link :
```

Enter the number of messages to download (e.g., 20, 50, 100).

âœ” Output:
data/content.sqlite


3ï¸âƒ£ Build the Indexed Database (content â†’ index)

This step:

	â€¢	Normalizes email addresses
	â€¢	Extracts subjects, timestamps
	â€¢	Cleans sender domains
	â€¢	Builds a structured relational index

Run:
```bash
python src/prepare_index.py
```

âœ” Output:
data/index.sqlite


4ï¸âƒ£ Generate the Word Cloud Dataset (index.sqlite â†’ gword.js)

Extracts top keywords from subject lines and generates a D3.js-compatible JavaScript dataset.

Run:
```bash
python src/generate_wordcloud_js.py
```

âœ” Output:
visualization/gword.js


5ï¸âƒ£ Open the Interactive Visualization

Open this file in your browser:
```bash
visualization/wordcloud.html
```

âœ” A D3.js word cloud will appear
âœ” Keyword size is based on frequency

ğŸ›  Project Workflow Overview

This is the complete end-to-end data pipeline.
```txt
ğŸ“¥ Step 1: Retrieve Emails
â€¢ Download raw mbox emails from GMane (public archive)
â€¢ Store each email's header + body
â€¢ Output â†’ content.sqlite


ğŸ§¹ Step 2: Parse + Normalize
â€¢ Clean sender addresses
â€¢ Extract sender, subject, date, message-ID
â€¢ Convert dates to ISO format
â€¢ Output â†’ index.sqlite (cleaned + searchable)


ğŸ§  Step 3: Keyword Extraction
â€¢ Read all subject lines
â€¢ Remove punctuation/numbers
â€¢ Split into words
â€¢ Ignore words < 4 characters
â€¢ Count and rank frequencies
â€¢ Output â†’ Python dictionary of keyword counts


ğŸ§ª Step 4: Generate JavaScript Dataset
â€¢ Convert frequencies to visual weights (20pxâ€“100px)
â€¢ Write final dataset to visualization/gword.js
â€¢ Output â†’ JSON-like JS array for D3.js


ğŸŒˆ Step 5: Interactive Visualization
â€¢ D3.js layout positions words
â€¢ Colors, rotations, and sizes applied dynamically
â€¢ Fully interactive UI
â€¢ Output â†’ Word cloud visualization
```

ğŸ“œ License
```txt
MIT License

Copyright (c) 2025 Sai Thuta

Permission is hereby granted, free of charge, to any person obtaining a copy...
```

ğŸ™Œ Acknowledgements
```txt
â€¢ Based on concepts from "Python For Everybody" (University of Michigan, Coursera)
â€¢ GMane public mail archive for open data
â€¢ Credit to Dr. Charles Severance for the original concepts
â€¢ Project refactored and implemented by Sai Thuta Hlaing (Cairney)
```

ğŸŒˆ Demo (Screenshot)

## ğŸŒˆ Demo

<img width="1026" height="819" alt="Visualization:wordclound" src="https://github.com/user-attachments/assets/e3450b7f-71b9-4b6a-845a-818e1ed79602" />

Here is an example of the interactive word cloud generated by the project:

